<% provide(:title, "Tasks") %>
<% content_for :additional_styles do %>
  <%= stylesheet_link_tag 'css/styles/table' %>
<% end %>

<% content_for :panel_control do %>
  <%= link_to new_task_path, class: 'button' do %>
    <span class="button-icon"><span class="icon-star"></span></span>
    Create Task
  <% end %>
<% end %>

<table class="simple-table">

  <thead>
    <tr>
      <th scope="col">Task</th>
      <th scope="col">Context</th>
      <th scope="col">Project</th>
      <th scope="col">Due By</th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <th scope="row"><%= link_to task.name, task_path(task) %></th>
        <td><%= task.project_name %></td>
        <td><%= task.context_name %></td>
        <td><%= date_format(task.due_at) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<% content_for :template_functions do %>
  <%= javascript_include_tag 'js/developr.table' %>
<% end %>
